// Generated by /home/bsc28/bsc28600/work/20201023-experimental/ompss-2-testgen/ompss-2-testgen --nodes 3 --tasks 1000 --nesting 3 --seed 18 --no-taskwaitnoflush --watchdog 15 --enable-file simplify-control.txt
//00000000000000000000000000000000000000000000000000000000000000000000000000000000
//00000000000000000000000000000000000000000000000000000000000000000000000000000000
//00000000000000000000000000000000000000000000000000000000000000000000000000000000
//00000000001000000000000000000000000000000000000000100000000000000000000000000000
//00000000000000000000000000000000000000000000000000000000000000000000000000000000
//00000000000000000000000000000000000000000000000000000000000000000000000000000000
//00000000000000000000000000000000000000000000000000000000000000000000000000000000
//00000000000000000000000000000000000000000000000000000000000000000011100000000000
//00000000000000000000000000000000000000000000000000100010000000000000000000000000
//00000000000000000000000000000000000000000000000000000000000000000000000000000000
//00000000000000000000000000000000000000000000000000000000000000000000000000000000
//00000000000000000000000000000000000000000000000000000000000000000000000000000000
//00000000000000000000000000000000000000000000000000000000000000000000000000000000
//00000000000000000000000000000000000000000000000000000000000000000000000000000000
//0000


#include "util.h"
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <nanos6.h>
#include <unistd.h>
#include <pthread.h>



void func256(int *b)
{
}
void func222(int *b)
{
    #pragma oss task out(b[491;2]) out(b[313;38]) node(2)
    func256(b);
    
}
void func556(int *b)
{
}
void func611(int *b)
{
    #pragma oss taskwait
    
}


int main(void)
{
	int *a = nanos6_dmalloc(1000 * sizeof(int), nanos6_equpart_distribution, 0, NULL);
	int *b = nanos6_lmalloc(1000 * sizeof(int));


    // #pragma oss task out(b[307;198]) weakout(b[982;2]) node(1)
    #pragma oss task out(b[307;198]) node(1)
    func222(b);
    
    #pragma oss taskwait on(b[325;454])
    
    #pragma oss task in(b[511;52]) in(b[366;6]) weakin(b[597;40]) in(b[349;11]) node(1)
    func556(b);
    
    #pragma oss task in(b[329;32]) weakin(b[736;3]) in(b[367;4]) node(1) label("func611")
    func611(b);
    
    #pragma oss taskwait
    

   nanos6_dfree(a, 1000 * sizeof(int));
   nanos6_lfree(b, 1000 * sizeof(int));

    printf("Test passed [/home/bsc28/bsc28600/work/20201023-experimental/ompss-2-testgen/ompss-2-testgen --nodes 3 --tasks 1000 --nesting 3 --seed 18 --no-taskwaitnoflush --watchdog 15 --enable-file simplify-control.txt]\n");
	
    return(0);
}
	
